<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Defuse the BOM</title>
</head>
<body>

<h2 id="message">This BOM will self destruct in <span id="timer">5</span> seconds...</h2>
<button id="defuser">Defuse the BOM</button>

<script>
    (function() {
        "use strict";

        var detonationTimer = 5;

        // TODO: This function needs to be called once every second

        var timer = setInterval(function updateTimer() {
            if (detonationTimer == 0) {
                alert('EXTERMINATE!');
                document.body.innerHTML = '';
            } else if (detonationTimer > 0) {
                document.getElementById('timer').innerHTML = String(detonationTimer);
            }
            detonationTimer--;
        }, 1000);

        // TODO: When this function runs, it needs to
        // cancel the interval/timeout for updateTimer()
        function defuseTheBOM() {
            clearTimeout(timer);
            alert("hooray!");
            return;
        }
        // Don't modify anything below this line!
        //
        // This causes the defuseTheBOM() function to be called
        // when the "defuser" button is clicked.
        // We will learn about events in the DOM lessons
        var defuser = document.getElementById('defuser');
        defuser.addEventListener('click', defuseTheBOM);
    })();
</script>
</body>
</html>

<!--<!DOCTYPE html>-->
<!--<html>-->
<!--<head>-->
<!--    <meta charset="utf-8">-->
<!--    <title>Defuse the BOM</title>-->
<!--</head>-->
<!--<body>-->

<!--<h2 id="message">This BOM will self destruct in <span id="timer">5</span> seconds...</h2>-->
<!--<button id="defuser">Defuse the BOM</button>-->

<!--<script>-->
<!--(function() {-->
<!--    "use strict";-->

<!--    var detonationTimer = 5;-->

<!--    // TODO: This function needs to be called once every second-->
<!--    function updateTimer() {-->
<!--        if (detonationTimer == 0) {-->
<!--            alert('EXTERMINATE!');-->
<!--            document.body.innerHTML = '';-->
<!--        }-->
<!--        else if (detonationTimer > 0) {-->
<!--            document.getElementById('timer').innerHTML = detonationTimer;-->
<!--        }-->

<!--        //     var delay = 1000; // delay time in milliseconds-->
<!--        //-->
<!--        //     var timeoutId = setTimeout(function (detonationTimer) {-->
<!--        //         return detonationTimer&#45;&#45;;-->
<!--        //     }, delay);-->
<!--        //     updateTimer(timeoutId);-->
<!--        // }-->
<!--        else {-->
<!--            alert('we\'re saved!');-->
<!--            return;-->
<!--        }-->
<!--    };-->
<!--    var count = 0;-->
<!--    var max = 10;-->
<!--    var interval = 1000; // interval time in milliseconds-->

<!--    var intervalId = setInterval(function () {-->
<!--        if (count >= max) {-->
<!--            clearInterval(intervalId);-->
<!--            console.log('All done');-->
<!--        } else {-->
<!--            count++;-->
<!--            console.log('Repeating this line ' + count);-->
<!--        }-->
<!--    }, interval);-->
<!--    // updateTimer(detonationTimer);-->

<!--    // TODO: When this function runs, it needs to-->
<!--    // cancel the interval/timeout for updateTimer()-->
<!--    function defuseTheBOM(detonationTimer) {-->
<!--        var defuse = -1;-->
<!--        return defuse;-->
<!--    }-->

<!--    // Don't modify anything below this line!-->
<!--    //-->
<!--    // This causes the defuseTheBOM() function to be called-->
<!--    // when the "defuser" button is clicked.-->
<!--    // We will learn about events in the DOM lessons-->
<!--    var defuser = document.getElementById('defuser');-->
<!--    defuser.addEventListener('click', defuseTheBOM);-->
<!--})();-->
<!--</script>-->
<!--</body>-->
<!--</html>-->
